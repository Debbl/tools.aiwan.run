(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{912:function(e,a,l){Promise.resolve().then(l.bind(l,620))},4283:function(e){"use strict";e.exports={reactStrictMode:!0,output:"export",basePath:"/code-diff"}},620:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return j}});var s=l(4357),t=l(920),i=l(4283),n=l(9959),r=l(7040);let d=(0,n.Ue)()((0,r.tJ)(e=>({originalValue:"",modifiedValue:"",language:"plaintext",languages:[],theme:"light",renderSideBySide:!0,setOriginalValue:a=>e({originalValue:a}),setModifiedValue:a=>e({modifiedValue:a}),setLanguage:a=>e({language:a}),setLanguages:a=>e({languages:a}),setTheme:a=>e({theme:a}),setRenderSideBySide:a=>e({renderSideBySide:a})}),{name:"code-diff-main-store",version:1}));var c=l(144),u=l(5427),o=l(7694),g=function(){return(0,s.jsx)("div",{className:"ml-8 flex h-[18px] w-[18px] justify-center",children:(0,s.jsx)("a",{href:"https://github.com/Debbl/code-diff",target:"_blank",rel:"noreferrer",children:(0,s.jsx)(c.JO,{icon:o.Z,className:"h-[18px] w-[18px]"})})})},h=l(6439),x=()=>{let[e,a]=(0,h.useState)(!1);return(0,h.useEffect)(()=>{a(!0)},[]),e},m=()=>{let[{language:e,languages:a,theme:l,renderSideBySide:t},{setOriginalValue:i,setModifiedValue:n,setLanguage:r,setTheme:o,setRenderSideBySide:h}]=d(e=>[{language:e.language,languages:e.languages,theme:e.theme,renderSideBySide:e.renderSideBySide},{setLanguage:e.setLanguage,setLanguages:e.setLanguages,setTheme:e.setTheme,setRenderSideBySide:e.setRenderSideBySide,setOriginalValue:e.setOriginalValue,setModifiedValue:e.setModifiedValue}]),m=x();return(0,s.jsxs)("header",{className:"flex items-center gap-x-3 p-3",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsxs)("label",{children:["选择语言：",(0,s.jsx)("select",{value:e,onChange:e=>{r(e.target.value)},className:"select select-bordered select-xs ml-3 w-60 border",children:m&&a.map(e=>(0,s.jsx)("option",{value:e.id,children:e.id},e.id))})]})}),(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsxs)("label",{children:["选择主题：",(0,s.jsxs)("select",{value:l,onChange:e=>{o(e.target.value)},className:"select select-bordered select-xs ml-3 w-60 border",children:[(0,s.jsx)("option",{value:"light",children:"light"}),(0,s.jsx)("option",{value:"vs-dark",children:"vs-dark"})]})]})}),(0,s.jsx)("div",{className:"form-control",children:(0,s.jsxs)("label",{className:"label cursor-pointer",children:[(0,s.jsx)("span",{className:"label-text",children:"并排显示："}),(0,s.jsx)("input",{className:"checkbox checkbox-xs ml-3",type:"checkbox",checked:t,onChange:e=>{h(e.target.checked)}})]})}),(0,s.jsx)("div",{className:"btn btn-circle btn-xs",onClick:()=>{i(""),n("")},children:(0,s.jsx)(c.JO,{className:"h-[18px] w-[18px] cursor-pointer",icon:u.Z})}),(0,s.jsx)(g,{})]})},f=()=>{let e=d(e=>"vs-dark"===e.theme?"dark":"light");(0,h.useEffect)(()=>{let a=document.querySelector("html");a.dataset.theme=e},[e])};function j(){f();let[{originalValue:e,modifiedValue:a,language:l,theme:n,renderSideBySide:r},{setOriginalValue:c,setModifiedValue:u,setLanguages:o}]=d(e=>[{originalValue:e.originalValue,modifiedValue:e.modifiedValue,language:e.language,theme:e.theme,renderSideBySide:e.renderSideBySide},{setLanguages:e.setLanguages,setOriginalValue:e.setOriginalValue,setModifiedValue:e.setModifiedValue}]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex h-screen flex-col items-center",children:[(0,s.jsx)("h1",{className:"my-2 cursor-pointer text-center text-xl font-medium",children:(0,s.jsx)("a",{href:i.basePath,children:"Code Diff"})}),(0,s.jsx)(m,{}),(0,s.jsx)("main",{className:"h-full w-full",children:(0,s.jsx)(t.SV,{options:{originalEditable:!0,renderSideBySide:r},original:e,modified:a,onMount:(e,a)=>{o(a.languages.getLanguages()),e.onDidUpdateDiff(()=>{var a,l;c((null===(a=e.getModel())||void 0===a?void 0:a.original.getValue())||""),u((null===(l=e.getModel())||void 0===l?void 0:l.modified.getValue())||"")})},height:"100%",theme:n,language:l})})]})})}}},function(e){e.O(0,[418,702,431,744],function(){return e(e.s=912)}),_N_E=e.O()}]);